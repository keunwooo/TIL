# 슈퍼넷

서브넷이 하나의 메이저 네트워크를 여러개의 작은 네트워크로 나눠서 효과적인 IP 주소를 사용 가능하게 한다면 슈퍼넷은 여러개의 메이저 네트워크를 하나의 네트워크 형태로 합친 네트워크를 의미한다.



라우팅을 전달할 때 여러개의 네트워크 정보를 하나로 합쳐 전달하여 자원을 절약하는 용도로 사용한다.



라우팅 프로토콜의 축약(Summarizaion)과 비슷한 개념이다.

슈퍼넷팅은 보통 여러 개의 C 클래스 주소를 결합하여 B 클래스처럼 사용하는데 적용하며 B 클래스 주소의 부족 문제를 해결하는데 효과적으로 사용할 수 있다.



\1. 슈퍼넷팅도 합칠때도 2의 지수승으로 합칠 수 있습니다.

\2. 합치는 블록의 공간이 연속적이어야 합니다. 

세번째 조건은 3번째 Byte가 4로 나누어 떨어져야 합니다. 이 부분은 31은 4로 나누어 떨어지지지 않습니다.



서브넷팅은 마스크를 오른쪽으로 1의 갯수가 늘어난다고 했죠. 그럼 슈퍼넷팅은 왼쪽으로 1의 갯수가 줄어야 합니다.

그럼 4개가 슈퍼넷팅이 됬으면 2개의 BIT가 왼쪽으로 줄어야 하고, 8개의 블럭이 슈퍼넷팅 됬으면 3개의 BIT이 0으로 변경되어야 하죠.

그렇다는건, 슈퍼넷팅 된 것들은 슈퍼넷팅 마스크(슈퍼넷 마스크)도 달라야 한다는건데, 마스크를 AND했을 때 주소가 같게 나와야 하기 때문이죠.



그럼 만약 600개의 주소가 필요합니다. 슈퍼넷팅은 몇개가 필요할까요??

---> 4개.

왜나하면 C클래스는 하나의 블럭당 256개의 주소를 갖고 있기 때문이죠.

정확한 갯수로는 3개만 있으면 되지만, 3은 2의 지수승이 아니기 때문에 합칠수가 없는겁니다.



슈퍼넷 마스크

주소의 범위와, 첫번째 주소를 알아내기 위해서 필요

서브넷은 디폴트 마스크에서 오른쪽으로 BIT를 0을 1로 만들어줬죠!!

슈퍼넷 마스크는 그 반대입니다! 디폴트 마스크에서 왼쪽방향으로 0에서 1로 만들어 주면 되죠!

그렇다는건, 네트워크 아이디 숫자가 줄어들고, 호스트 아이디 숫자는 증가한다는 뜻이죠!



IP는 192.168.10.0 Subnetmask는 255.255.255.0으로 표시

▶ 네트워크 수 : 1 / 호스트 수: 255개

사용 가능한 호스트 192.168.10.1 ~ 192.168.10.254

 

250명으로 사용하던 회사가 인원이 추가되면서 350명으로 늘었다고 보고 이때 슈퍼넷팅을 통해서 350명이 사용할 수 있는 하나의 네트워크로 만드는 작업

슈퍼넷팅 후 IP는 192.168.10.0 Subnetmask는 255.255.254.0으로 표시

▶ 네트워크 수 : 1 / 호스트 수: 512개

사용 가능한 호스트 192.168.10.1 ~ 192.168.11.254

C Class 두 개를 슈퍼넷팅 후 합쳐서 하나의 네트워크로 구성하여 사용할 수 있습니다.

---

2500 대 규모의 컴퓨터가 존재하는 회사에서 TCP/IP 프로토콜을 적용하여 통신을 하고자 할 경우는 가정해 보자.
B 클래스는 65,000 여개의 IP 주소를 제공하기 때문에 너무 많은 주소가 낭비되고 C 클래스는 254개의 IP 주소를 제공하기 때문에 주소가 너무 부족하게 된다. 이럴 경우 슈퍼넷팅을 적용하면 여러 가지 이점을 얻을 수 있다.

C 클래스 주소를 16개 할당받았다고 가정을 하고 각각의 클래스는 세그먼트 분할 없이 그대로 적용을 한다고 가정을 하더라고 이 네트워크는 16개의 서브 네트워크로 분할된 네트워크가 된다. 할당받은 IP 주소가 204.58.16.0 번부터 204.58.31.0 번 네트워크까지 라고 가정을 하면 가용한 IP 주의 범위는 204.58.16.1 번 부터 204.58.31.254 번 까지 사용할 수 있다. 그러나 클래스 C 로 16개의 네트워크가 분할되어 있으므로 각각의 세그먼트가 제대로 통신을 하려면 라우팅 테이블을 잘 구성해 주어야 한다. 이 경우 각 세그먼트의 IP 주소 할당을 보면 아래와 같다.

![](http://postfiles12.naver.net/MjAxODAyMjBfNDYg/MDAxNTE5MTM1NTA0MTUw.wip0magN3nHIFt6ZJHh9V0vKgD86p0RueJKHx1ntJt4g.QB0jyf842HY_xODC_jRxfg6CBG1GVM8bxzFeGFEaCWsg.PNG.wnrjsxo/image.png?type=w773)

그러나 슈퍼넷팅을 사용하여 전체 세그먼트에 대하여 IP 주소를 할당하면 아래와 같이 적용된다.
\- 네트워크 주소 : 204.58.16.0
\- Subnet Mask : 255.255.240.0
\- Gateway 주소 : 204.58.16.254



슈퍼넷팅의 기본 원칙을 살펴보면
\1. 슈퍼넷팅에 사용하는 IP 주소는 주로 C 클래스를 사용한다. C 클래스의 주소를 여러 개 묶어 마치 B 클래스 주소를 할당받은 것처럼 사용한다.
\2. 서브넷 마스크 값은 맨 왼쪽 주소 비트부터 연속되어야 사용할 수 있다.
\3. 2의 지수승개의 네트워크만 합칠 수 있다. (2, 4, 8, 16 ... 개는 합칠 수 있지만 3, 5 ... 개는 합칠 수 없다.)



예제에서 2500 개의 노드를 표현하기 위해서 네트워크 주소 범위가 20 비트가 되면 세 번째 바이트의 상위 4 비트만 네트워크 주소로 사용하면 호스트를 표현할 수 있는 주소 범위는 2의 12 승개(4096개)로 충분하게 된다. 이 4 비트로 표현할 수 있는 네트워크 주소는 2의 4승 개이므로 16개가 된다. 즉 16개의 연속적인 C 클래스 주소를 이용하며 마치 B 클래스 주소를 할당받은 것처럼 사용하게 된다. 이 4비트를 네트워크 주소로 사용하는 서브넷 마스크는 11111111.11111111.11110000.00000000 이 되므로 십진수로는 255.255.240 이 된다.
