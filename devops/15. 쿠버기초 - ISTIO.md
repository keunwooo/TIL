# ISTIO 



### 서비스 메쉬란

- API 등을 이용하여 마이크로 서비스 간 통신을 안전하고 빠르고 신뢰할 수 있게 만들기 위해 설꼐된 전용 인프라 계층
- 서비스 메쉬는 보통 Application 서비스에 경량화 프록시를 사이드카 방식으로 배치하여 서비스 간 통신을 제어한다.

### 서비스 메쉬가 필요한 이유

- 시스템 규모에 따라 다르지만, MSA 시스템에서 수십개의 마이크로 서비스가 동작할 수 있고 그보다 많은 인스턴스들이 동작할 수 있기 때문에 관리하기가 매우 복잡하다. 또한 인스턴스가 수행되는 네트워크 간의 레이턴시,신뢰성,안전성 등을 보장 할 수 없다.
- 이러한 문제점들은 어플리케이션 계층에서 해결할 수도 있지만, 그렇게 되면 Application 언어 및 런타임에 종속성이 생기고, 기능 변경 등을 할 떄마다 비용이 발생한다.
- 그렇기 때문에 마이크로 서비스 운영할 때에는 별도의 소스 수정이 필요없이 인프라 레벨에서 안정적으로 관리할 수 있는 서비스 메쉬가 필요하다.



### Istio 정의

- Istio는 서비스 메쉬를 구현할 수 있는 오픈소스 솔루션

- 마이크로 서비스 간의 모든 네트워크 통신을 담당할 수 있는 프록시인 Envoy를 사이드카 패턴으로 마이크로 서비스들에 배포한 다음, 프록시들의 설정값 저장 및 관리/감독을 수행하고, 프록시들에 설정값을 전달하는 컨트롤러 역할 수행

- 각각의 마이크로 서비스에 사이드카 패턴으로 배포된 Envoy 프록시를 데이타 플레인이라 함
- 데이타 플레인을 컨트롤 하는 부분은 컨트롤 플레인이라고 함



### 구성요소

1. 데이타 플레인



2. 컨트롤 플레인



### 주요 특징



포드 안에 프록시를 넣는다 프록시를 거쳐서 통신함 (속도 느림)

포드에 있는 정보를 수집해서 istio로 확인한다. 통신 확인



서비스의 코드를 변경하지 않고도 로드밸런싱, 서비스 간 인증, 모니터링 등을 통해 배포된 서비스 네트워크를 쉽게 생성 가능하다는 점

레이블만 바꿔주면 알아서 프록시에서 자동으로 바뀐다.



```
istioctl profile list
```





