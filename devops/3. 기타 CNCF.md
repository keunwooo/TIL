# CNCF 

### Rancher 

- 모니터링 기능





### Redis

**참고 사이트 https://meetup.toast.com/posts/224**

- 레디스는 In-Memory 데이터베이스이다. 즉, 모든 데이터를 메모리에 저장하고 조회한다.

기존 관계형 데이터베이스보다 빠름. 메모리 접근이 디스크 접근보다 빠르기 때문

다른 In-Memory 데이터베이스와 가장 큰 차이점은 다양한 자료구조를 지원

다양한 자료구조를 Key - Value 형태로 저장



- ![](https://image.toast.com/aaaadh/real/2020/techblog/5%282%29.png)

- 레디스의 string은 키와 연결할 수 있는 가장 간단한 유형의 값입니다. 레디스의 키가 문자열이므로 이 구조는 문자열을 다른 문자열에 매핑하는 것이라고 볼 수 있습니다.

- string 타입에는 **모든 종류의 문자열**(이진 데이터 포함) 을 저장할 수 있습니다.

- 따라서 JPEG 이미지를 저장하거나, HTML fragment 를 캐시하는 용도로 자주 사용합니다. 저장할 수 있는 최대 사이즈는 512MB입니다.

  

### 헬름

- 헬름 설치 리눅스

```
sudo snap install helm --classic
```



### influxdata



- influxdb,telegraf,chronograf , kapacitor 설치 (ubuntu)

```
wget https://dl.influxdata.com/telegraf/releases/telegraf_1.17.2-1_amd64.deb
sudo dpkg -i telegraf_1.17.2-1_amd64.deb

wget https://dl.influxdata.com/influxdb/releases/influxdb2_2.0.3_amd64.deb
sudo dpkg -i influxdb2_2.0.3_amd64.deb

wget https://dl.influxdata.com/chronograf/releases/chronograf_1.8.9.1_amd64.deb
sudo dpkg -i chronograf_1.8.9.1_amd64.deb

wget https://dl.influxdata.com/kapacitor/releases/kapacitor_1.5.8-1_amd64.deb
sudo dpkg -i kapacitor_1.5.8-1_amd64.deb
```

https://portal.influxdata.com/downloads/



-  influxdb 



influxdb 실행

```
systemd
```

![image-20210203100240833](C:\Users\INNOGRID\AppData\Roaming\Typora\typora-user-images\image-20210203100240833.png)





influxdb 접속

```
http://192.168.150.179:8086/
```



1.  도커 모니터링 연결해보기

![image-20210202185554154](C:\Users\INNOGRID\AppData\Roaming\Typora\typora-user-images\image-20210202185554154.png)



![image-20210202185626113](C:\Users\INNOGRID\AppData\Roaming\Typora\typora-user-images\image-20210202185626113.png)



![image-20210202185646279](C:\Users\INNOGRID\AppData\Roaming\Typora\typora-user-images\image-20210202185646279.png)



![image-20210202185726404](C:\Users\INNOGRID\AppData\Roaming\Typora\typora-user-images\image-20210202185726404.png)



![image-20210202185750098](C:\Users\INNOGRID\AppData\Roaming\Typora\typora-user-images\image-20210202185750098.png)



도커 데몬으로 돌리기

```
sudo service docker stop

sudo dockerd -H unix:///var/run/docker.sock -H tcp://192.168.150.179 -H tcp://10.2.0.63
sudo dockerd -H unix:///var/run/docker.sock -H tcp://10.2.0.63
도커의 localhost (DOCKER_HOST)는 0.0.0.0이다.

dockerd -H tcp://0.0.0.0:2375

혹은 이렇게 열어줘도 된다.

$ export DOCKER_HOST="tcp://0.0.0.0:2375"
 
$ docker ps

```

https://conservative-vector.tistory.com/entry/Remote-API-%EC%99%B8%EB%B6%80-%EC%BB%B4%ED%93%A8%ED%84%B0%EC%97%90%EC%84%9C%EB%8F%84-%EB%8F%84%EC%BB%A4%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%98%EA%B8%B0

![image-20210203100209625](C:\Users\INNOGRID\AppData\Roaming\Typora\typora-user-images\image-20210203100209625.png)





위의 endpoint 입력란에 입력

```
endpoint = "unix:///var/run/docker.sock"

endpoint = "tcp://0.0.0.0:2375"

endpoint = "tcp://10.2.0.63:2375"
```



터미널에 화면에 나온 토큰과 config 를 복사해서 실행

![image-20210203100331753](C:\Users\INNOGRID\AppData\Roaming\Typora\typora-user-images\image-20210203100331753.png)





![image-20210202190022441](C:\Users\INNOGRID\AppData\Roaming\Typora\typora-user-images\image-20210202190022441.png)



![image-20210202190050695](C:\Users\INNOGRID\AppData\Roaming\Typora\typora-user-images\image-20210202190050695.png)



![image-20210202190121686](C:\Users\INNOGRID\AppData\Roaming\Typora\typora-user-images\image-20210202190121686.png)





2. 쿠버네티스 연결해보기



![image-20210203164113214](C:\Users\INNOGRID\AppData\Roaming\Typora\typora-user-images\image-20210203164113214.png)



![image-20210203164143583](C:\Users\INNOGRID\AppData\Roaming\Typora\typora-user-images\image-20210203164143583.png)



![image-20210203164157966](C:\Users\INNOGRID\AppData\Roaming\Typora\typora-user-images\image-20210203164157966.png)









- chronograf 접속

```
http://192.168.150.179:8888/
```





